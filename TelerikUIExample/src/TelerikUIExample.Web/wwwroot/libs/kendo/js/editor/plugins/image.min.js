module.exports=function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}({0:function(e,t,i){e.exports=i(993)},3:function(e,t){e.exports=function(){throw Error("define cannot be used indirect")}},980:function(e,t){e.exports=require("../command")},993:function(e,t,i){var n,s,o;!function(a,define){s=[i(994),i(980)],n=a,o="function"==typeof n?n.apply(t,s):n,!(void 0!==o&&(e.exports=o))}(function(){!function(e,t){var i=window.kendo,n=e.extend,s=i.ui.editor,o=s.EditorUtils,a=s.Dom,d=o.registerTool,r=s.ToolTemplate,l=s.RangeUtils,u=s.Command,m=i.keys,c="#k-editor-image-url",g="#k-editor-image-title",k="#k-editor-image-width",p="#k-editor-image-height",f=u.extend({init:function(e){var t=this;u.fn.init.call(t,e),t.async=!0,t.attributes={}},insertImage:function(e,t){var i,n=this.attributes,s=l.documentFromRange(t);if(n.src&&"http://"!=n.src){if(i=function(){setTimeout(function(){n.width||e.removeAttribute("width"),n.height||e.removeAttribute("height"),e.removeAttribute("complete")})},!e)return e=a.create(s,"img",n),e.onload=e.onerror=i,t.deleteContents(),t.insertNode(e),e.nextSibling||a.insertAfter(s.createTextNode("\ufeff"),e),i(),t.setStartAfter(e),t.setEndAfter(e),l.selectRange(t),!0;e.onload=e.onerror=i,a.attr(e,n),i()}return!1},_dialogTemplate:function(e){return i.template('<div class="k-editor-dialog k-popup-edit-form"><div class="k-edit-form-container"><div class="k-edit-form-content"># if (showBrowser) { #<div class="k-filebrowser k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-image-url"></span></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-image-title"></span></div><div class=\'k-edit-label\'><label for="k-editor-image-width">#: messages.imageWidth #</label></div><div class=\'k-edit-field\'><span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-image-width"></span></div><div class=\'k-edit-label\'><label for="k-editor-image-height">#: messages.imageHeight #</label></div><div class=\'k-edit-field\'><span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-image-height"></span></div></div><div class="k-edit-buttons"><button class="k-dialog-insert k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary"><span class="k-button-text">#: messages.dialogInsert #</span></button><button class="k-dialog-close k-button k-button-md k-rounded-md k-button-solid k-button-solid-base"><span class="k-button-text">#: messages.dialogCancel #</span></button></div></div></div>')({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();e.insertImage(l.image(t),t)||e.releaseRange(t)},exec:function(){function e(e){var t=d.element,i=parseInt(t.find(k).val(),10),n=parseInt(t.find(p).val(),10);f.attributes={src:t.find(c).val().replace(/ /g,"%20"),alt:t.find(g).val()},f.attributes.width=null,f.attributes.height=null,!isNaN(i)&&i>0&&(f.attributes.width=i),!isNaN(n)&&n>0&&(f.attributes.height=n),v=f.insertImage(h,b),s(e),f.change&&f.change()}function s(e){e.preventDefault(),d.destroy(),a.windowFromDocument(l.documentFromRange(b)).focus(),v||f.releaseRange(b)}function o(t){t.keyCode==m.ENTER?e(t):t.keyCode==m.ESC&&s(t)}var d,r,u,f=this,b=f.lockRange(),v=!1,h=l.image(b),w=h&&h.getAttribute("width")||"",x=h&&h.getAttribute("height")||"",y=i.support.browser.msie,I=f.editor.options,A=I.messages,T=I.imageBrowser,R=!!(i.ui.ImageBrowser&&T&&T.transport&&T.transport.read!==t),B={title:A.insertImage,visible:!1,resizable:R};this.expandImmutablesIn(b),B.close=s,R&&(B.width=750),d=this.createDialog(f._dialogTemplate(R),B).toggleClass("k-filebrowser-dialog",R).find(".k-dialog-insert").on("click",e).end().find(".k-dialog-close").on("click",s).end().find(".k-edit-field input").on("keydown",o).end().find(c).val(h?h.getAttribute("src",2):"http://").end().find(g).val(h?h.alt:"").end().find(k).val(w).end().find(p).val(x).end().data("kendoWindow"),r=d.element,R&&(this._imageBrowser=new i.ui.ImageBrowser(r.find(".k-imagebrowser"),n({},T)),this._imageBrowser.bind("change",function(e){"f"===e.selected.get("type")&&r.find(c).val(this.value())}),this._imageBrowser.bind("apply",e)),y&&(u=r.closest(".k-window").height(),r.css("max-height",u)),d.center().open(),r.find(c).trigger("focus").select()}});i.ui.editor.ImageCommand=f,d("insertImage",new s.Tool({command:f,template:new r({template:o.buttonTemplate,title:"Insert Image"})}))}(window.kendo.jQuery)},i(3))},994:function(e,t){e.exports=require("../../kendo.imagebrowser")}});